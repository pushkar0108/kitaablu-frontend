{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// #region Global Imports\nimport \"isomorphic-unfetch\";\nimport getConfig from \"next/config\";\nimport { stringify } from \"query-string\";\nimport { isServer } from \"../Helper\"; // #endregion Global Imports\n// #region Interface Imports\n\n// #endregion Interface Imports\nconst {\n  publicRuntimeConfig: {\n    API_KEY,\n    API_URL\n  }\n} = getConfig();\nconst BASE_URL_CONFIG = {\n  PRODUCTION: {\n    server: \"http://localhost:4004/api/\",\n    client: \"https://kitaablu.com/api/\"\n  },\n  DEVELOPMENT: {\n    server: \"https://kitaablu.com/api/\",\n    client: \"https://kitaablu.com/api/\"\n  }\n};\n\nconst getBaseUrl = () => {\n  let env = \"development\" ? \"development\".toUpperCase() : \"DEVELOPMENT\";\n  let config = BASE_URL_CONFIG[env];\n  return isServer() ? config.server : config.client;\n};\n\nexport const Http = {\n  Request: async (methodType, url, params, payload) => {\n    return new Promise((resolve, reject) => {\n      const query = params ? `?${stringify(_objectSpread({}, params, {\n        api_key: API_KEY\n      }))}` : \"\";\n      fetch(`${getBaseUrl()}${url}${query}`, {\n        body: JSON.stringify(payload),\n        cache: \"no-cache\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        method: `${methodType}`\n      }).then(async response => {\n        if (response.status === 200) {\n          return response.json().then(resolve);\n        }\n\n        return reject(response);\n      }).catch(e => {\n        reject(e);\n      });\n    });\n  }\n};","map":{"version":3,"sources":["/Users/pushkar.goel/Myapps/next-boilerplate/src/Services/API/Http/index.ts"],"names":["getConfig","stringify","isServer","publicRuntimeConfig","API_KEY","API_URL","BASE_URL_CONFIG","PRODUCTION","server","client","DEVELOPMENT","getBaseUrl","env","toUpperCase","config","Http","Request","methodType","url","params","payload","Promise","resolve","reject","query","api_key","fetch","body","JSON","cache","headers","method","then","response","status","json","catch","e"],"mappings":";;;;;;AAAA;AACA,OAAO,oBAAP;AACA,OAAOA,SAAP,MAAsB,aAAtB;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,SAASC,QAAT,oB,CACA;AAEA;;AAEA;AAEA,MAAM;AACFC,EAAAA,mBAAmB,EAAE;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX;AADnB,IAEFL,SAAS,EAFb;AAIA,MAAMM,eAAe,GAAG;AACpBC,EAAAA,UAAU,EAAE;AACRC,IAAAA,MAAM,EAAE,4BADA;AAERC,IAAAA,MAAM,EAAE;AAFA,GADQ;AAKpBC,EAAAA,WAAW,EAAE;AACTF,IAAAA,MAAM,EAAE,2BADC;AAETC,IAAAA,MAAM,EAAE;AAFC;AALO,CAAxB;;AAWA,MAAME,UAAU,GAAG,MAAM;AACrB,MAAIC,GAAG,GAAG,gBAAuB,cAAqBC,WAArB,EAAvB,GAA4D,aAAtE;AACA,MAAIC,MAAM,GAAGR,eAAe,CAACM,GAAD,CAA5B;AACA,SAAOV,QAAQ,KAAKY,MAAM,CAACN,MAAZ,GAAqBM,MAAM,CAACL,MAA3C;AACH,CAJD;;AAMA,OAAO,MAAMM,IAAI,GAAG;AAChBC,EAAAA,OAAO,EAAE,OACLC,UADK,EAELC,GAFK,EAGLC,MAHK,EAILC,OAJK,KAKQ;AACb,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpC,YAAMC,KAAK,GAAGL,MAAM,GACb,IAAGlB,SAAS,mBAAMkB,MAAN;AAAcM,QAAAA,OAAO,EAAErB;AAAvB,SAAkC,EADjC,GAEd,EAFN;AAIAsB,MAAAA,KAAK,CAAE,GAAEf,UAAU,EAAG,GAAEO,GAAI,GAAEM,KAAM,EAA/B,EAAkC;AACnCG,QAAAA,IAAI,EAAEC,IAAI,CAAC3B,SAAL,CAAemB,OAAf,CAD6B;AAEnCS,QAAAA,KAAK,EAAE,UAF4B;AAGnCC,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX,SAH0B;AAMnCC,QAAAA,MAAM,EAAG,GAAEd,UAAW;AANa,OAAlC,CAAL,CAQKe,IARL,CAQU,MAAMC,QAAN,IAAkB;AACpB,YAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AACzB,iBAAOD,QAAQ,CAACE,IAAT,GAAgBH,IAAhB,CAAqBV,OAArB,CAAP;AACH;;AACD,eAAOC,MAAM,CAACU,QAAD,CAAb;AACH,OAbL,EAcKG,KAdL,CAcWC,CAAC,IAAI;AACRd,QAAAA,MAAM,CAACc,CAAD,CAAN;AACH,OAhBL;AAiBH,KAtBM,CAAP;AAuBH;AA9Be,CAAb","sourcesContent":["// #region Global Imports\nimport \"isomorphic-unfetch\";\nimport getConfig from \"next/config\";\nimport { stringify } from \"query-string\";\nimport { isServer } from '../Helper';\n// #endregion Global Imports\n\n// #region Interface Imports\nimport { HttpModel } from \"@Interfaces\";\n// #endregion Interface Imports\n\nconst {\n    publicRuntimeConfig: { API_KEY, API_URL },\n} = getConfig();\n\nconst BASE_URL_CONFIG = {\n    PRODUCTION: {\n        server: \"http://localhost:4004/api/\",\n        client: \"https://kitaablu.com/api/\"\n    },\n    DEVELOPMENT: {\n        server: \"https://kitaablu.com/api/\",\n        client: \"https://kitaablu.com/api/\"\n    }\n};\n\nconst getBaseUrl = () => {\n    let env = process.env.NODE_ENV ? process.env.NODE_ENV.toUpperCase() : \"DEVELOPMENT\";\n    let config = BASE_URL_CONFIG[env];\n    return isServer() ? config.server : config.client;\n};\n\nexport const Http = {\n    Request: async <A>(\n        methodType: string,\n        url: string,\n        params?: HttpModel.IRequestQueryPayload,\n        payload?: HttpModel.IRequestPayload\n    ): Promise<A> => {\n        return new Promise((resolve, reject) => {\n            const query = params\n                ? `?${stringify({ ...params, api_key: API_KEY })}`\n                : \"\";\n\n            fetch(`${getBaseUrl()}${url}${query}`, {\n                body: JSON.stringify(payload),\n                cache: \"no-cache\",\n                headers: {\n                    \"content-type\": \"application/json\",\n                },\n                method: `${methodType}`,\n            })\n                .then(async response => {\n                    if (response.status === 200) {\n                        return response.json().then(resolve);\n                    }\n                    return reject(response);\n                })\n                .catch(e => {\n                    reject(e);\n                });\n        });\n    },\n};\n"]},"metadata":{},"sourceType":"module"}